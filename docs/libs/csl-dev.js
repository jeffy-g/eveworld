/*! For license information please see index.js.LICENSE.txt */
((e,t)=>{'object'==typeof exports&&'object'==typeof module?module.exports=t():'function'==typeof define&&define.amd?define([],t):'object'==typeof exports?exports.NsLoader=t():e.NsLoader=t()})(globalThis,(()=>(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{'undefined'!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:'Module'}),Object.defineProperty(e,'__esModule',{value:!0})}},t={};e.r(t),e.d(t,{IM_MAP_ID:()=>Q,cleanUp:()=>D,loadCompressedScript:()=>G,setConfig:()=>F,unzipSync:()=>B,version:()=>K})
;const n=Uint8Array,r=Uint16Array,o=Uint32Array,l=new n([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new n([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new n([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),c=(e,t)=>{const n=new r(31);for(let r=0;r<31;++r)n[r]=t+=1<<e[r-1];const l=new o(n[30]);for(let e=1;e<30;++e)for(let t=n[e];t<n[e+1];++t)l[t]=t-n[e]<<5|e;return[n,l]},[s,f]=c(l,2);s[28]=258,f[258]=28;const[d,u]=c(i,0),p=new r(32768);for(let e=0;e<32768;++e){let t=(43690&e)>>>1|(21845&e)<<1;t=(52428&t)>>>2|(13107&t)<<2,t=(61680&t)>>>4|(3855&t)<<4,p[e]=((65280&t)>>>8|(255&t)<<8)>>>1}const y=(e,t,n)=>{const o=e.length;let l=0;const i=new r(t);for(;l<o;++l)e[l]&&++i[e[l]-1];const a=new r(t);for(l=0;l<t;++l)a[l]=a[l-1]+i[l-1]<<1;let c
;if(n){c=new r(1<<t);const n=15-t;for(l=0;l<o;++l)if(e[l]){const r=l<<4|e[l],o=t-e[l];let i=a[e[l]-1]++<<o;for(const e=i|(1<<o)-1;i<=e;++i)c[p[i]>>>n]=r}}else for(c=new r(o),l=0;l<o;++l)e[l]&&(c[l]=p[a[e[l]-1]++]>>>15-e[l]);return c},m=new n(288);for(let e=0;e<144;++e)m[e]=8;for(let e=144;e<256;++e)m[e]=9;for(let e=256;e<280;++e)m[e]=7;for(let e=280;e<288;++e)m[e]=8;const g=new n(32);for(let e=0;e<32;++e)g[e]=5;const h=y(m,9,1),b=y(g,5,1),w=e=>{let t=e[0];for(let n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},v=(e,t,n)=>{const r=t/8|0;return(e[r]|e[r+1]<<8)>>(7&t)&n},S=(e,t)=>{const n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(7&t)},k=[,n,r,,o],C=(e,t,n)=>{(!t||t<0)&&(t=0),(!n||n>e.length)&&(n=e.length);const r=new k[e.BYTES_PER_ELEMENT](n-t);return r.set(e.subarray(t,n)),r
},$=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=(e,t,n)=>{const r=new Error(t||$[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,E),!n)throw r;return r},x=(e,t,r)=>{const o=e.length;if(!o||r&&r.f&&!r.l)return t||new n(0);const c=!t||!!r,f=!r||r.i;!r&&(r={}),!t&&(t=new n(3*o));const u=e=>{let r=t.length;if(e>r){const o=new n(Math.max(2*r,e));o.set(t),t=o}};let p=r.f||0,m=r.p||0,g=r.b||0,k=r.l,$=r.d,x=r.m,O=r.n;const j=8*o;do{if(!k){p=v(e,m,1);const l=v(e,m+1,3);if(m+=3,!l){const n=4+((m+7)/8|0),l=e[n-4]|e[n-3]<<8,i=n+l;if(i>o){f&&E(0);break}
c&&u(g+l),t.set(e.subarray(n,i),g),r.b=g+=l,r.p=m=8*i,r.f=p;continue}if(1===l)k=h,$=b,x=9,O=5;else if(2===l){const t=v(e,m,31)+257,r=v(e,m+10,15)+4,o=t+v(e,m+5,31)+1;m+=14;const l=new n(o),i=new n(19);for(let t=0;t<r;++t)i[a[t]]=v(e,m+3*t,7);m+=3*r;const c=w(i),s=(1<<c)-1,f=y(i,c,1);for(let t=0;t<o;){const n=f[v(e,m,s)];m+=15&n;const r=n>>>4;if(r<16)l[t++]=r;else{let n=0,o=0;for(16===r?(o=3+v(e,m,3),m+=2,n=l[t-1]):17===r?(o=3+v(e,m,7),m+=3):18===r&&(o=11+v(e,m,127),m+=7);o--;)l[t++]=n}}const d=l.subarray(0,t),u=l.subarray(t);x=w(d),O=w(u),k=y(d,x,1),$=y(u,O,1)}else E(1);if(m>j){f&&E(0);break}}c&&u(g+131072);const C=(1<<x)-1,T=(1<<O)-1;let z=m;for(;;z=m){const n=k[S(e,m)&C],r=n>>>4;if(m+=15&n,m>j){f&&E(0);break}if(n||E(2),r<256)t[g++]=r;else{if(256===r){z=m,k=void 0;break}{let n=r-254
;if(r>264){const t=r-257,o=l[t];n=v(e,m,(1<<o)-1)+s[t],m+=o}const o=$[S(e,m)&T],a=o>>>4;o||E(3),m+=15&o;let p=d[a];if(a>3){const t=i[a];p+=S(e,m)&(1<<t)-1,m+=t}if(m>j){f&&E(0);break}c&&u(g+131072);const y=g+n;for(;g<y;g+=4)t[g]=t[g-p],t[g+1]=t[g+1-p],t[g+2]=t[g+2-p],t[g+3]=t[g+3-p];g=y}}}r.l=k,r.p=z,r.b=g,r.f=p,k&&(p=1,r.m=x,r.d=$,r.n=O)}while(!p);return g===t.length?t:C(t,0,g)},O=(e,t)=>e[t]|e[t+1]<<8,j=(e,t)=>(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0,T=(e,t)=>j(e,t)+4294967296*j(e,t+4),z=(e,t)=>t+30+O(e,t+26)+O(e,t+28),M=(e,t,n)=>{const r=!(2048&O(e,t+8)),o=O(e,t+28),l=L(e.subarray(t+46,t+46+o),r),i=t+46+o,a=j(e,t+20),[c,s,f]=n&&4294967295===a?P(e,i):[a,j(e,t+24),j(e,t+42)],d=i+O(e,t+30);return[O(e,t+10),c,s,l,i+O(e,t+30)+O(e,t+32),f,L(e.subarray(d,d+O(e,t+32)),r)]},P=(e,t)=>{
for(;1!=O(e,t);t+=4+O(e,t+2));return[T(e,t+12),T(e,t+4),T(e,t+20)]};let U;const A=new n(0);try{const e=new TextDecoder;e.decode(A,{stream:!0}),U=e}catch{}function L(e,t){if(t){let t="";for(let n=0;n<e.length;n+=16384)t+=String.fromCharCode.apply(null,e.subarray(n,n+16384));return t}if(U)return U.decode(e);{const[t,n]=(e=>{for(let t="",n=0;;){let r=e[n++];const o=+(r>127)+ +(r>223)+ +(r>239);if(n+o>e.length)return[t,C(e,n-1)];o?3===o?(r=((15&r)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536,t+=String.fromCharCode(55296|r>>10,56320|1023&r)):t+=1&o?String.fromCharCode((31&r)<<6|63&e[n++]):String.fromCharCode((15&r)<<12|(63&e[n++])<<6|63&e[n++]):t+=String.fromCharCode(r)}})(e);return n.length&&E(8),t}}let N,_,R=new TextDecoder,B=function(e,t){const r={};let o=e.length-22
;for(;101010256!=j(e,o);--o)(!o||e.length-o>65558)&&E(13);let l=O(e,o+8);if(!l)return{};let i=j(e,o+16);const a=4294967295===i;a&&(o=j(e,o-12),101075792!=j(e,o)&&E(13),l=j(e,o+32),i=j(e,o+48));const c=t&&t.filter;for(let t=0;t<l;++t){const[t,o,l,s,f,d,u]=M(e,i,a),p=z(e,d);if(i=f,!c||c({name:s,size:o,originalSize:l,compression:t,comment:u})){let i;t?8===t?i=x(e.subarray(p,p+o),new n(l)):E(14,"unknown compression type "+t):i=C(e,p,p+o),i&&(r[s]={data:i,comment:u})}}return r},D=()=>{R=void 0,I=F=G=D=void 0,N=_=void 0,Y=q=J=B=void 0},J=e=>{let t=/^(?:sha\d{3}-)?([a-z0-9+/=]{44,88})$/i.exec(e);if(t){let n=(e=t[1]).length;if(!(88^n&&64^n&&44^n))return`sha${64==n?384:88==n?512:256}-${e}`}},q=(e,t="text/javascript")=>URL.createObjectURL(new Blob([e],{type:t})),F=(e,t)=>{N=e,_=t||""
},I=(e,t,n=(()=>{}),r={})=>{let o=()=>{n(),console.log(`script ${t} is ready`)},l=_?document.querySelector(_).nextElementSibling:void 0,i=document.head[l?"insertBefore":"appendChild"](document.createElement("script"),l);i.id=t,r.type&&(i.type=r.type);let a=r.integrity;a?(i.integrity=a,i.crossOrigin="",i.onload=o,i.src=r.url||q(e)):(i.text=e,o())},Y=e=>{let t,n=Object.keys(e);if(n.includes(Q)){n=n.filter((e=>e!==Q));let r,o=R.decode(e[Q].data),l=JSON.parse(o),i=l.map.imports,a=[];Object.keys(i).forEach((t=>{for(let o,c=0;o=n[c++];){let[n,c]=o.split(".");if(new RegExp(`.*\\/?${n}${c?`(?:\\.${c})?`:""}$`).test(t)){let n=q(R.decode(e[o].data));i[t]=n,o!==l.main||r||(r=n),a.push(o);break}}})),I(JSON.stringify(l.map,null,2),Q,void 0,{type:"importmap"}),n=n.filter((e=>!a.includes(e))),t={
entryMain:r,imdata:l}}return[n,t]},G=async(e,t=console.log)=>{let n=e+".zip",r=await fetch(`${N||"."}/${n}`).then((async e=>{let n=!!e.headers.get("content-encoding"),r=e.body.getReader(),o=(l=+e.headers.get("content-length"),n?1.3*l|0:l);var l;let i=new Uint8Array(o),a=0;for(;;){let e=await r.read();if(e.done)break;i.set(e.value,a),a+=e.value.length,t(`loading zip: ${a.toLocaleString()} bytes(${a/o*100|0}%)`)}return n?i.slice(0,a):i})).catch((e=>{console.error(e)}));if(r&&r.length){t(`loaded ${n}, decompressing binary...`),console.time(`unzip: ${n}`);let e=B(r);return console.timeEnd(`unzip: ${n}`),t(`${n} decompressed ðŸ˜ƒ`),new Promise((t=>{let[n,{entryMain:r,imdata:o}={}]=Y(e),l=n.length,i=o?.main,a=()=>{!--l&&t()};for(let t,o=0;t=n[o++];){let n=e[t],o=t===i;I(R.decode(n.data),t,a,{
integrity:J(n.comment),url:o?r:void 0,type:o?"module":void 0})}}))}throw new Error(`Could not load "${n}"`)},H=async()=>{H=void 0;let e=document.querySelector("script[data-csl-config]");if(e){let t=e.dataset.cslConfig;if(t){let e;t=JSON.parse(t),t.load?(F(t.base,t.selector),e=t.load):e=Array.isArray(t)?t:"string"==typeof t?[t]:[];let n="function"==typeof cslCallback?cslCallback:window[t.callback||"cslCallback"],r=[];for(let t of e)r.push(G(t).catch((e=>e)));let o=(await Promise.all(r)).filter((e=>e&&e.name));"function"==typeof n&&n(o.length?o:void 0),t.cleanup&&D()}}};setTimeout(H,99);const K="v1.3.1",Q="$importmap.dat";return t})()));